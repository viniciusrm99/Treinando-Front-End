(window.webpackJsonp=window.webpackJsonp||[]).push([[80],{1015:function(e,t,n){"use strict";var r=n(15),o=n(123).findIndex,c=n(231),l="findIndex",h=!0;l in[]&&Array(1)[l]((function(){h=!1})),r({target:"Array",proto:!0,forced:h},{findIndex:function(e){return o(this,e,arguments.length>1?arguments[1]:void 0)}}),c(l)},1027:function(e,t,n){"use strict";(function(e){var r=n(5),o=n(20),c=(n(1015),n(73),n(81),n(25),n(23),n(295),n(24),n(18),n(11),n(26),n(19),n(27),n(53),n(40)),l=n.n(c),h=n(85),d=n(876),y=n(172);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}function m(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(r.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}t.a={name:"HomePage",components:{PageContent:d.default},asyncData:function(e){return Object(o.a)(regeneratorRuntime.mark((function t(){var n,r,o,c,h,d,y,f,data,m;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.query,r=e.error,o=e.store,t.prev=1,c="",t.next=5,o.state.citySelector.savedCity;case 5:return(h=t.sent)&&h.id&&(c=h.id),d={section:"homepage",token:n.token},y=!1!==o.state.filterByRegion,d.filterByRegion=y,y&&(d.regionId=c),"",t.next=14,l.a.get("/api/single",{params:d});case 14:if(f=t.sent,data=f.data,!(m=data.entry)){t.next=23;break}return t.next=20,o.dispatch("setMenusCustom",{title:m.styles&&!m.styles.hideTitleHeader&&m.title||"",header:m.header||null,footer:m.footer||null,scrollToTop:m.scrollToTop||null,accessibility:m.accessibility||null,headerCustomCurrentPage:m.headerCustomCurrentPage,footerCustomCurrentPage:m.footerCustomCurrentPage,scrollToTopCustomPage:m.scrollToTopCustomPage,accessibilityCustom:m.accessibilityCustom});case 20:return t.abrupt("return",{entry:m,currentToken:n.token});case 23:r({statusCode:404,message:"Page not found"});case 24:t.next=29;break;case 26:t.prev=26,t.t0=t.catch(1),r({statusCode:500,message:"Error Internal"});case 29:case"end":return t.stop()}}),t,null,[[1,26]])})))()},scrollToTop:!0,data:function(){return{entry:null,headLine:null,title:"",description:"",currentToken:"",unsubscribeAtCoupons:null}},mounted:function(){this.getCouponMatchIdx(),this.checkCouponMatch(),this.createStoreSubscription()},beforeDestroy:function(){this.deleteStoreSubscription()},methods:{createStoreSubscription:function(){var e=this;this.unsubscribeAtCoupons=this.$store.subscribe((function(t){t.type===h.b&&e.checkCouponMatch()}))},deleteStoreSubscription:function(){this.unsubscribeAtCoupons&&"function"==typeof this.unsubscribeAtCoupons&&this.unsubscribeAtCoupons()},logout:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,e.$store.dispatch("logout");case 3:window.location="/",t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),window.console.warn(t.t0.message);case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))()},getCouponMatchIdx:function(){this.cupomMatchIdx=this.entry.pageContent.findIndex((function(content){return Object.keys(content).includes("match")}))},checkCouponMatch:function(){var e=this;return Object(o.a)(regeneratorRuntime.mark((function t(){var n,r,o,c,data;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=e.checkCitySelection(),t.prev=1,!(e.entry&&e.entry.pageContent&&e.entry.pageContent[e.cupomMatchIdx]&&e.entry.pageContent[e.cupomMatchIdx].match)||e.entry.pageContent[e.cupomMatchIdx].match.list.length){t.next=14;break}return e.entry.pageContent[e.cupomMatchIdx].match.loading=!0,"",r={section:"homepage",token:e.currentToken},o=!1!==e.$store.state.filterByRegion,r.filterByRegion=o,o&&(r.regionId=n),t.next=11,l.a.get("/api/single",{params:r});case 11:c=t.sent,data=c.data,e.entry.pageContent[e.cupomMatchIdx].match=m({},data.entry.pageContent[e.cupomMatchIdx].match);case 14:t.next=18;break;case 16:t.prev=16,t.t0=t.catch(1);case 18:return t.prev=18,e.entry.pageContent[e.cupomMatchIdx].match.loading=!1,t.finish(18);case 21:case"end":return t.stop()}}),t,null,[[1,16,18,21]])})))()},checkCitySelection:function(){var e="",t=this.$store.state.citySelector.savedCity,n=Object(y.a)();return t&&t.id?e=t.id:n&&n.id&&(e=n.id),e}},head:function(){return{title:"Burger KingÂ®",meta:[{hid:"og:title",name:"og:title",content:this.entry&&this.entry.headLine?this.entry.headLine.metaTitle:""},{hid:"og:description",name:"og:description",content:this.entry&&this.entry.headLine?this.entry.headLine.metaDescription:""},{hid:"og:image",name:"og:image",content:this.entry&&this.entry.headLine?this.entry.headLine.metaImage.url:""}]}}}}).call(this,n(90))},1291:function(e,t,n){"use strict";n.r(t);n(46);var r=n(1027).a,o=n(30),component=Object(o.a)(r,(function(){var e=this,t=e._self._c;return e.entry?t("div",{style:"background-color: ".concat(e.entry.styles&&e.entry.styles.background?e.entry.styles.background:"","; color: ").concat(e.entry.styles&&e.entry.styles.fontColor?e.entry.styles.fontColor:"")},[t("PageContent",{attrs:{data:e.entry.pageContent}})],1):e._e()}),[],!1,null,null,null);t.default=component.exports;installComponents(component,{PageContent:n(876).default})}}]);